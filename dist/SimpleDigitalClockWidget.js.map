{"mappings":"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","sources":["src/SimpleDigitalClockWidget.tsx","node_modules/preact/dist/preact.module.js","node_modules/preact/src/constants.js","node_modules/preact/src/util.js","node_modules/preact/src/options.js","node_modules/preact/src/create-element.js","node_modules/preact/src/component.js","node_modules/preact/src/diff/props.js","node_modules/preact/src/create-context.js","node_modules/preact/src/diff/children.js","node_modules/preact/src/diff/index.js","node_modules/preact/src/render.js","node_modules/preact/src/clone-element.js","node_modules/preact/src/diff/catch-error.js","node_modules/preact-custom-element/dist/preact-custom-element.esm.js","node_modules/preact-custom-element/src/index.js","node_modules/clsx/dist/clsx.mjs","node_modules/@parcel/runtime-js/lib/bundles/runtime-2d3e74225c330cde.js","src/contrastColor.ts","src/darkenColor.ts","src/data.yaml","src/isDark.ts"],"sourcesContent":["/*\n * Simple Digital Clock Widget\n * This is a simple digital clock widget that displays the current time and date in a specified time zone.\n * It is based on the utctime.info website.\n * http://utctime.info/\n * Version: 0.6.0\n */\n\nimport { Component, Fragment, h } from \"preact\";\nimport register from \"preact-custom-element\";\nimport clsx from \"clsx\";\nimport cssText from \"bundle-text:./styles.css\";\nimport contrastColor from \"./contrastColor\";\nimport darkenColor from \"./darkenColor\";\nimport data from \"./data.yaml\";\nimport isDark from \"./isDark\";\n\nconst v = \"0.5.5\";\n\nconst googleFontsMonospace: string[] = (data?.allowFonts ?? []) as string[];\n\ntype Align = \"left\" | \"center\" | \"right\";\ntype Prefers = \"\" | \"auto\" | \"system\" | \"light\" | \"dark\";\ntype Shadow = \"shadow\" | \"shadow-lg\" | \"shadow-md\" | \"shadow-sm\" | \"shadow-2xl\" | \"shadow-xl\";\ntype TimeZoneName =\n  | \"\"\n  | \"short\"\n  | \"long\"\n  | \"shortOffset\"\n  | \"longOffset\"\n  | \"shortGeneric\"\n  | \"longGeneric\";\n\n// Define the props type\n/**\n * Props for the SimpleDigitalClockWidget component.\n */\ninterface SimpleDigitalClockWidgetProps {\n  date?: boolean;\n  border?: boolean;\n  period?: boolean;\n  second?: boolean;\n  caption?: string;\n  timeZone?: string;\n  locale?: string;\n  fontFamily?: string;\n  backgroundColor?: string;\n  background?: string;\n  rounded?: number;\n  width?: number;\n  prefers: Prefers;\n  align?: Align;\n  timeZoneName?: TimeZoneName;\n  shadow?: Shadow;\n}\n\n// Define the state type\ninterface SimpleDigitalClockWidgetState {\n  isDay: boolean;\n  isError: boolean;\n  timeString: string;\n  dateString: string;\n  timeZoneName: string;\n  backgroundColor: string;\n  fontSize: number;\n  fontSizeTitle: number;\n}\n\nclass SimpleDigitalClockWidget extends Component<\n  SimpleDigitalClockWidgetProps,\n  SimpleDigitalClockWidgetState\n> {\n  interval?: number;\n  containerRef: HTMLDivElement | null = null;\n  zoneContainerRef: HTMLDivElement | null = null;\n  dateContainerRef: HTMLDivElement | null = null;\n  constructor(props: SimpleDigitalClockWidgetProps) {\n    super(props);\n    this.interval;\n    this.state = {\n      isDay: true,\n      isError: false,\n      timeString: \"\",\n      dateString: \"\",\n      timeZoneName: \"\",\n      fontSize: 16,\n      fontSizeTitle: 16,\n      backgroundColor: \"#ffffff\",\n    };\n  }\n\n  static tagName = \"timenow-zone-sdcw\";\n\n  // Observe attributes in kebab-case (HTML side)\n  static observedAttributes = [\n    \"background-color\",\n    \"time-zone-name\",\n    \"font-family\",\n    \"background\",\n    \"time-zone\",\n    \"rounded\",\n    \"second\",\n    \"caption\",\n    \"prefers\",\n    \"locale\",\n    \"shadow\",\n    \"border\",\n    \"period\",\n    \"date\",\n    \"width\",\n    \"align\",\n  ];\n\n  /** Normalize boolean-like props coming from attributes. */\n  private normalizeBool(value: unknown): boolean | undefined {\n    // undefined/null => not provided\n    if (value == null) return undefined;\n    if (typeof value === \"boolean\") return value;\n    if (typeof value === \"string\") {\n      const v = value.trim().toLowerCase();\n      // HTML boolean attr present without value -> \"\"\n      if (v === \"\" || v === \"true\" || v === \"1\" || v === \"yes\") return true;\n      if (v === \"false\" || v === \"0\" || v === \"no\") return false;\n    }\n    return undefined; // unknown -> treat as \"not provided\"\n  }\n\n  loadGoogleFont = (fontFamily: string) => {\n    if (fontFamily) {\n      const link = document.createElement(\"link\");\n      link.href = `https://fonts.googleapis.com/css2?family=${fontFamily.replace(\n        /\\s/g,\n        \"+\"\n      )}:wght@700&display=swap`;\n      link.rel = \"stylesheet\";\n      document.head.appendChild(link);\n    }\n  };\n\n  handlePrefers = () => {\n    const backgroundColor =\n      this.props.prefers === undefined ||\n      this.props.prefers === null ||\n      this.props.prefers === \"\" ||\n      this.props.prefers === \"system\" ||\n      this.props.prefers === \"auto\"\n        ? isDark()\n          ? \"#000000\"\n          : \"#ffffff\"\n        : this.props.prefers === \"dark\"\n          ? \"#000000\"\n          : \"#ffffff\";\n    this.setState({ backgroundColor });\n    // console.log(this.props.prefers, \"prefers\");\n  };\n\n  handleResize = () => {\n    if (this.containerRef) {\n      const localeList = [\"bg\", \"ko\"];\n      const currentLocale = this.props.locale || \"en\"; // Replace this with your actual locale string\n      const isLocaleMatch = localeList.some((prefix) => currentLocale.startsWith(prefix));\n      const fontSizeByLocale = isLocaleMatch ? 8 : 7;\n      const width = this.containerRef.offsetWidth;\n      const fontSize = (width || 1) / fontSizeByLocale;\n      const fontSizeTitle = (width || 1) / 15;\n      this.setState({ fontSize, fontSizeTitle });\n    }\n  };\n\n  /**\n   * Updates the time and date strings based on the current locale, timeZone, seconds, and period props.\n   * Sets the state with the updated timeString, dateString, timeZoneName, and isError values.\n   */\n  updateTimeAndDateString = () => {\n    const { locale, timeZone } = this.props;\n\n    // Normalize boolean-like attributes\n    const periodPref = this.normalizeBool(this.props.period);\n    const showSeconds = this.normalizeBool(this.props.second);\n\n    const date = new Date();\n    let isDay = date.getHours() >= 6 && date.getHours() < 18;\n\n    let timeString = \"\";\n    let dateString = \"\";\n    let timeZoneName = \"\";\n    let isError = false;\n\n    try {\n      timeString = date.toLocaleTimeString(locale, {\n        timeZone,\n        hour: \"numeric\",\n        minute: \"numeric\",\n        // show seconds only when explicitly true\n        ...(showSeconds === true ? { second: \"numeric\" } : {}),\n        // period overrides locale when explicitly provided\n        ...(periodPref !== undefined\n          ? { hour12: periodPref, hourCycle: periodPref ? \"h12\" : \"h23\" }\n          : {}),\n      });\n\n      dateString = date.toLocaleDateString(locale, {\n        timeZone,\n        weekday: \"short\",\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n      });\n\n      timeZoneName = date.toLocaleDateString(locale, {\n        timeZone,\n        timeZoneName: this.props.timeZoneName === \"\" ? undefined : this.props.timeZoneName,\n      });\n    } catch (e) {\n      isError = true;\n      console.error(\"Error: \", e);\n    }\n\n    this.setState({ timeString, dateString, timeZoneName, isDay, isError });\n  };\n\n  // componentDidMount replaces useEffect for post-mount actions\n  componentDidMount() {\n    // console.log(\"componentDidMount\");\n    // Your CSS injection logic here\n\n    this.handlePrefers();\n\n    this.updateTimeAndDateString(); // Call it once immediately\n    this.interval = setInterval(this.updateTimeAndDateString, 1000) as unknown as number; // Call it every second\n\n    window.addEventListener(\"resize\", this.handleResize);\n    this.handleResize();\n\n    // Load the Google Font\n    this.loadGoogleFont(this.props.fontFamily as string);\n  }\n\n  componentDidUpdate(prevProps: SimpleDigitalClockWidgetProps) {\n    if (prevProps.fontFamily !== this.props.fontFamily) {\n      this.loadGoogleFont(this.props.fontFamily as string);\n    }\n    if (prevProps.width !== this.props.width) {\n      this.handleResize();\n    }\n    if (prevProps.prefers !== this.props.prefers) {\n      this.handlePrefers();\n    }\n    // Recalc time immediately when formatting-related props change\n    if (\n      prevProps.locale !== this.props.locale ||\n      prevProps.timeZone !== this.props.timeZone ||\n      prevProps.second !== this.props.second ||\n      prevProps.period !== this.props.period ||\n      prevProps.timeZoneName !== this.props.timeZoneName\n    ) {\n      this.updateTimeAndDateString();\n    }\n  }\n\n  componentWillUnmount() {\n    // console.log(\"componentWillUnmount\");\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      backgroundColor,\n      background,\n      fontFamily,\n      caption,\n      rounded,\n      shadow,\n      border,\n      width,\n      align,\n      date,\n    } = this.props;\n\n    const showDate = date !== undefined;\n    const showCaption = caption || false;\n\n    const mainDivClasses = [\"widget\", \"font-family\"];\n    if (shadow) {\n      mainDivClasses.push(shadow);\n    }\n\n    const mainStyle = {\n      color: contrastColor(backgroundColor?.toLowerCase() || this.state.backgroundColor),\n      ...(background\n        ? { background: background?.toLowerCase() || this.state.backgroundColor }\n        : { backgroundColor: backgroundColor?.toLowerCase() }),\n      // ...(background && { background: background?.toLowerCase() || this.state.backgroundColor }),\n    };\n    const fontStyles = {\n      fontFamily: googleFontsMonospace.some((element: string) => element === fontFamily)\n        ? this.props.fontFamily\n        : \"monospace\",\n    };\n\n    return (\n      <Fragment>\n        <style>{cssText}</style>\n        <div\n          data-version={v}\n          className={clsx(mainDivClasses)}\n          ref={(el) => {\n            this.containerRef = el;\n          }}\n          style={{\n            ...mainStyle,\n            ...(rounded !== undefined && { borderRadius: `${rounded}rem` }),\n            ...(border !== undefined && {\n              borderColor: darkenColor(\n                backgroundColor?.toLowerCase() || this.state.backgroundColor,\n                -0.25\n              ),\n              borderWidth: \"1px\",\n            }),\n            transition: \"background 1s ease\",\n            position: \"relative\",\n            minWidth: 80,\n            ...(width !== undefined && {\n              width: parseInt(width?.toString() || \"80\", 10) || undefined,\n            }),\n          }}\n        >\n          <div className={clsx(`text-${align || \"center\"}`)}>\n            {this.state.timeString ? (\n              <Fragment>\n                {showCaption && <div style={{ fontSize: this.state.fontSizeTitle }}>{caption}</div>}\n                <a\n                  title={this.state.timeZoneName}\n                  style={{ fontSize: this.state.fontSize, ...fontStyles }}\n                  href=\"https://utctime.info/\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {this.state.timeString}\n                </a>\n                {showDate && (\n                  <Fragment>\n                    <div\n                      title={this.state.timeZoneName}\n                      ref={(el) => {\n                        this.dateContainerRef = el;\n                      }}\n                      onClick={() => {\n                        this.zoneContainerRef?.style.setProperty(\"display\", \"block\");\n                        this.dateContainerRef?.style.setProperty(\"display\", \"none\");\n                      }}\n                      style={{\n                        fontSize: this.state.fontSizeTitle,\n                        cursor: \"pointer\",\n                      }}\n                    >\n                      {this.state.dateString}\n                    </div>\n                    <div\n                      title={this.state.dateString}\n                      onClick={() => {\n                        this.zoneContainerRef?.style.setProperty(\"display\", \"none\");\n                        this.dateContainerRef?.style.setProperty(\"display\", \"block\");\n                      }}\n                      ref={(el) => {\n                        this.zoneContainerRef = el;\n                      }}\n                      style={{\n                        fontSize: this.state.fontSizeTitle,\n                        display: \"none\",\n                        cursor: \"pointer\",\n                      }}\n                    >\n                      {this.state.timeZoneName}\n                    </div>\n                  </Fragment>\n                )}\n              </Fragment>\n            ) : (\n              <>...</>\n            )}\n            {this.state.isError && <div>Error, please check attributes of tag.</div>}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SimpleDigitalClockWidget;\n\nregister(SimpleDigitalClockWidget, undefined, undefined, { shadow: true });\n","var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,r=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,N(f,t,c),r.__e=r.__=null,t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,y,w,d,g,_,m=t&&t.__k||v,b=l.length;for(f=P(u,l,m,f,b),a=0;a<b;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:m[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),w=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&B(h.ref,null,y),s.push(y.ref,y.__c||w,y)),null==d&&null!=w&&(d=w),(_=!!(4&y.__u))||h.__k===y.__k?f=A(y,f,n,_):\"function\"==typeof y.type&&void 0!==g?f=g:w&&(f=w.nextSibling),y.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),D(e,e));return t}function A(n,l,u,t){var i,r;if(\"function\"==typeof n.type){for(i=n.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=n,l=A(i[r],l,u,t));return l}n.__e!=l&&(t&&(l&&n.type&&!l.parentNode&&(l=S(n)),u.insertBefore(n.__e,l||null)),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o,e=n.key,f=n.type,c=l[u],s=null!=c&&0==(2&c.__u);if(null===c&&null==n.key||s&&e==c.key&&f==c.type)return u;if(t>(s?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;)if(null!=(c=l[o=i>=0?i--:r++])&&0==(2&c.__u)&&e==c.key&&f==c.type)return o;return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||y.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r,o;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),o=l.toLowerCase(),l=o in n||\"onFocusOut\"==l||\"onFocusIn\"==l?o.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=E),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=V(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else{for(T=o.length;T--;)g(o[T]);z(u)}else u.__e=t.__e,u.__k=t.__k,n.then||z(u);l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=q(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(z)}function N(n,u,t){for(var i=0;i<t.length;i++)B(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function V(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(V):d({},n)}function q(u,t,i,r,o,e,f,c,s){var a,h,v,y,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?y=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(y)?y:[y],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function B(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function D(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||B(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&D(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function E(n,l,u){return this.constructor(n,u)}function G(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),N(e,u,f)}function J(n,l){G(n,l,J)}function K(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=void 0===u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function Q(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,K as cloneElement,Q as createContext,_ as createElement,b as createRef,_ as h,J as hydrate,t as isValidElement,l as options,G as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {import('./index').ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\nimport { NULL, UNDEFINED } from './constants';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != NULL) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === UNDEFINED) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, NULL);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {import('./internal').VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: NULL,\n\t\t_parent: NULL,\n\t\t_depth: 0,\n\t\t_dom: NULL,\n\t\t_component: NULL,\n\t\tconstructor: UNDEFINED,\n\t\t_original: original == NULL ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == NULL && options.vnode != NULL) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: NULL };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != NULL && vnode.constructor == UNDEFINED;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE, NULL } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != NULL && this._nextState != this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == NULL) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](https://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == NULL) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: NULL;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != NULL && sibling._dom != NULL) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : NULL;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : NULL,\n\t\t\tcommitQueue,\n\t\t\toldDom == NULL ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\t\toldVNode._dom = oldVNode._parent = null;\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != NULL && vnode._component != NULL) {\n\t\tvnode._dom = vnode._component.base = NULL;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != NULL && child._dom != NULL) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce != options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c,\n\t\tl = 1;\n\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile (rerenderQueue.length) {\n\t\t// Keep the rerender queue sorted by (depth, insertion order). The queue\n\t\t// will initially be sorted on the first iteration only if it has more than 1 item.\n\t\t//\n\t\t// New items can be added to the queue e.g. when rerendering a provider, so we want to\n\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t// single pass\n\t\tif (rerenderQueue.length > l) {\n\t\t\trerenderQueue.sort(depthSort);\n\t\t}\n\n\t\tc = rerenderQueue.shift();\n\t\tl = rerenderQueue.length;\n\n\t\tif (c._dirty) {\n\t\t\trenderComponent(c);\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { IS_NON_DIMENSIONAL, NULL, SVG_NAMESPACE } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] == '-') {\n\t\tstyle.setProperty(key, value == NULL ? '' : value);\n\t} else if (value == NULL) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\nconst CAPTURE_REGEX = /(PointerCapture)$|Capture$/i;\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name == 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] != oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] == 'o' && name[1] == 'n') {\n\t\tuseCapture = name != (name = name.replace(CAPTURE_REGEX, '$1'));\n\t\tconst lowerCaseName = name.toLowerCase();\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (lowerCaseName in dom || name == 'onFocusOut' || name == 'onFocusIn')\n\t\t\tname = lowerCaseName.slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == SVG_NAMESPACE) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == NULL ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != NULL && (value !== false || name[4] == '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {import('../internal').PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == NULL) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n","import { enqueueRender } from './component';\nimport { NULL } from './constants';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tfunction Context(props) {\n\t\tif (!this.getChildContext) {\n\t\t\t/** @type {Set<import('./internal').Component> | null} */\n\t\t\tlet subs = new Set();\n\t\t\tlet ctx = {};\n\t\t\tctx[Context._id] = this;\n\n\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\tsubs = NULL;\n\t\t\t};\n\n\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t// @ts-expect-error even\n\t\t\t\tif (this.props.value != _props.value) {\n\t\t\t\t\tsubs.forEach(c => {\n\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.sub = c => {\n\t\t\t\tsubs.add(c);\n\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\tif (subs) {\n\t\t\t\t\t\tsubs.delete(c);\n\t\t\t\t\t}\n\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\treturn props.children;\n\t}\n\n\tContext._id = '__cC' + i++;\n\tContext._defaultValue = defaultValue;\n\n\t/** @type {import('./internal').FunctionComponent} */\n\tContext.Consumer = (props, contextValue) => {\n\t\treturn props.children(contextValue);\n\t};\n\n\t// we could also get rid of _contextRef entirely\n\tContext.Provider =\n\t\tContext._contextRef =\n\t\tContext.Consumer.contextType =\n\t\t\tContext;\n\n\treturn Context;\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport {\n\tEMPTY_OBJ,\n\tEMPTY_ARR,\n\tINSERT_VNODE,\n\tMATCHED,\n\tUNDEFINED,\n\tNULL\n} from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\toldDom = constructNewChildrenArray(\n\t\tnewParentVNode,\n\t\trenderResult,\n\t\toldChildren,\n\t\toldDom,\n\t\tnewChildrenLength\n\t);\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == NULL) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index == -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tlet result = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, NULL, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == NULL && newDom != NULL) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tlet shouldPlace = !!(childVNode._flags & INSERT_VNODE);\n\t\tif (shouldPlace || oldVNode._children === childVNode._children) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom, shouldPlace);\n\t\t} else if (typeof childVNode.type == 'function' && result !== UNDEFINED) {\n\t\t\toldDom = result;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(\n\tnewParentVNode,\n\trenderResult,\n\toldChildren,\n\toldDom,\n\tnewChildrenLength\n) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = new Array(newChildrenLength);\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == NULL ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tnewParentVNode._children[i] = NULL;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tNULL,\n\t\t\t\tchildVNode,\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (childVNode.constructor == UNDEFINED && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : NULL,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = NULL;\n\t\tif (matchingIndex != -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original == null\n\t\tconst isMounting = oldVNode == NULL || oldVNode._original == NULL;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\t// When the array of children is growing we need to decrease the skew\n\t\t\t\t// as we are adding a new element to the array.\n\t\t\t\t// Example:\n\t\t\t\t// [1, 2, 3] --> [0, 1, 2, 3]\n\t\t\t\t// oldChildren   newChildren\n\t\t\t\t//\n\t\t\t\t// The new element is at index 0, so our skew is 0,\n\t\t\t\t// we need to decrease the skew as we are adding a new element.\n\t\t\t\t// The decrease will cause us to compare the element at position 1\n\t\t\t\t// with value 1 with the element at position 0 with value 0.\n\t\t\t\t//\n\t\t\t\t// A linear concept is applied when the array is shrinking,\n\t\t\t\t// if the length is unchanged we can assume that no skew\n\t\t\t\t// changes are needed.\n\t\t\t\tif (newChildrenLength > oldChildrenLength) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else if (newChildrenLength < oldChildrenLength) {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex != skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != NULL && (oldVNode._flags & MATCHED) == 0) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @param {boolean} shouldPlace\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom, shouldPlace) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom, shouldPlace);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (shouldPlace) {\n\t\t\tif (oldDom && parentVNode.type && !oldDom.parentNode) {\n\t\t\t\toldDom = getDomSibling(parentVNode);\n\t\t\t}\n\t\t\tparentDom.insertBefore(parentVNode._dom, oldDom || NULL);\n\t\t}\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != NULL && oldDom.nodeType == 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == NULL || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet oldVNode = oldChildren[skewedIndex];\n\tconst matched = oldVNode != NULL && (oldVNode._flags & MATCHED) == 0;\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\t//\n\t// If there is an unkeyed functional VNode, that isn't a built-in like our Fragment,\n\t// we should not search as we risk re-using state of an unrelated VNode. (reverted for now)\n\tlet shouldSearch =\n\t\t// (typeof type != 'function' || type === Fragment || key) &&\n\t\tremainingOldChildren > (matched ? 1 : 0);\n\n\tif (\n\t\t(oldVNode === NULL && childVNode.key == null) ||\n\t\t(matched && key == oldVNode.key && type == oldVNode.type)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\tlet x = skewedIndex - 1;\n\t\tlet y = skewedIndex + 1;\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tconst childIndex = x >= 0 ? x-- : y++;\n\t\t\toldVNode = oldChildren[childIndex];\n\t\t\tif (\n\t\t\t\toldVNode != NULL &&\n\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\tkey == oldVNode.key &&\n\t\t\t\ttype == oldVNode.type\n\t\t\t) {\n\t\t\t\treturn childIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n","import {\n\tEMPTY_OBJ,\n\tMATH_NAMESPACE,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tNULL,\n\tRESET_MODE,\n\tSVG_NAMESPACE,\n\tUNDEFINED,\n\tXHTML_NAMESPACE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * @template {any} T\n * @typedef {import('../internal').Ref<T>} Ref<T>\n */\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor != UNDEFINED) return NULL;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == NULL) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != NULL) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tc.componentWillMount != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != NULL &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original == oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original != oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != NULL) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != NULL) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != NULL) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != NULL && tmp.type === Fragment && tmp.key == NULL;\n\t\t\tlet renderResult = tmp;\n\n\t\t\tif (isTopLevelFragment) {\n\t\t\t\trenderResult = cloneNode(tmp.props.children);\n\t\t\t}\n\n\t\t\toldDom = diffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = NULL;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = NULL;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != NULL) {\n\t\t\t\tif (e.then) {\n\t\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\t\twhile (oldDom && oldDom.nodeType == 8 && oldDom.nextSibling) {\n\t\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = NULL;\n\t\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = excessDomChildren.length; i--; ) {\n\t\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t\tmarkAsForce(newVNode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\tif (!e.then) markAsForce(newVNode);\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == NULL &&\n\t\tnewVNode._original == oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\toldDom = newVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n\n\treturn newVNode._flags & MODE_SUSPENDED ? undefined : oldDom;\n}\n\nfunction markAsForce(vnode) {\n\tif (vnode && vnode._component) vnode._component._force = true;\n\tif (vnode && vnode._children) vnode._children.forEach(markAsForce);\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\nfunction cloneNode(node) {\n\tif (\n\t\ttypeof node != 'object' ||\n\t\tnode == NULL ||\n\t\t(node._depth && node._depth > 0)\n\t) {\n\t\treturn node;\n\t}\n\n\tif (isArray(node)) {\n\t\treturn node.map(cloneNode);\n\t}\n\n\treturn assign({}, node);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType == 'svg') namespace = SVG_NAMESPACE;\n\telse if (nodeType == 'math') namespace = MATH_NAMESPACE;\n\telse if (!namespace) namespace = XHTML_NAMESPACE;\n\n\tif (excessDomChildren != NULL) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value == !!nodeType &&\n\t\t\t\t(nodeType ? value.localName == nodeType : value.nodeType == 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = NULL;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == NULL) {\n\t\tif (nodeType == NULL) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = NULL;\n\t}\n\n\tif (nodeType == NULL) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data != newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != NULL) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (!(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, NULL, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html != oldHtml.__html && newHtml.__html != dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\t// @ts-expect-error\n\t\t\t\tnewVNode.type == 'template' ? dom.content : dom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType == 'foreignObject' ? XHTML_NAMESPACE : namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != NULL) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType == 'progress' && inputValue == NULL) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue != UNDEFINED &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType == 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType == 'option' && inputValue != oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked != UNDEFINED && checked != dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != NULL) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current == vnode._dom) {\n\t\t\tapplyRef(r, NULL, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != NULL) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = NULL;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\tvnode._component = vnode._parent = vnode._dom = UNDEFINED;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, NULL } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\t// https://github.com/preactjs/preact/issues/3794\n\tif (parentDom == document) {\n\t\tparentDom = document.documentElement;\n\t}\n\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? NULL\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, NULL, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? NULL\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: NULL,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\nimport { NULL, UNDEFINED } from './constants';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === UNDEFINED && defaultProps != UNDEFINED) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tNULL\n\t);\n}\n","import { NULL } from '../constants';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component,\n\t\t/** @type {import('../internal').ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != NULL) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != NULL) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import{h as t,hydrate as e,render as n,cloneElement as o,Fragment as r}from\"preact\";function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i.apply(this,arguments)}function s(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||(r[n]=t[n]);return r}var a=[\"context\",\"children\"],c=[\"useFragment\"];function l(t,e,n,o){function r(){var e=Reflect.construct(HTMLElement,[],r);return e._vdomComponent=t,e._root=o&&o.shadow?e.attachShadow({mode:o.mode||\"open\"}):e,o&&o.adoptedStyleSheets&&(e._root.adoptedStyleSheets=o.adoptedStyleSheets),e}return(r.prototype=Object.create(HTMLElement.prototype)).constructor=r,r.prototype.connectedCallback=function(){d.call(this,o)},r.prototype.attributeChangedCallback=h,r.prototype.disconnectedCallback=f,n=n||t.observedAttributes||Object.keys(t.propTypes||{}),r.observedAttributes=n,t.formAssociated&&(r.formAssociated=!0),n.forEach(function(t){Object.defineProperty(r.prototype,t,{get:function(){return this._vdom?this._vdom.props[t]:this._props[t]},set:function(e){this._vdom?this.attributeChangedCallback(t,null,e):(this._props||(this._props={}),this._props[t]=e);var n=typeof e;null!=e&&\"string\"!==n&&\"boolean\"!==n&&\"number\"!==n||this.setAttribute(t,e)}})}),customElements.define(e||t.tagName||t.displayName||t.name,r),r}function u(t){this.getChildContext=function(){return t.context};var e=t.children,n=s(t,a);return o(e,n)}function d(o){var r=new CustomEvent(\"_preact\",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(r),this._vdom=t(u,i({},this._props,{context:r.detail.context}),v(this,this._vdomComponent,o)),(this.hasAttribute(\"hydrate\")?e:n)(this._vdom,this._root)}function p(t){return t.replace(/-(\\w)/g,function(t,e){return e?e.toUpperCase():\"\"})}function h(t,e,r){if(this._vdom){var i={};i[t]=r=null==r?void 0:r,i[p(t)]=r,this._vdom=o(this._vdom,i),n(this._vdom,this._root)}}function f(){n(this._vdom=null,this._root)}function m(e,n){var o=this,a=e.useFragment,l=s(e,c);return t(a?r:\"slot\",i({},l,{ref:function(t){t?(o.ref=t,o._listener||(o._listener=function(t){t.stopPropagation(),t.detail.context=n},t.addEventListener(\"_preact\",o._listener))):o.ref.removeEventListener(\"_preact\",o._listener)}}))}function v(e,n,o){if(3===e.nodeType)return e.data;if(1!==e.nodeType)return null;var r=[],i={},s=0,a=e.attributes,c=e.childNodes;for(s=a.length;s--;)\"slot\"!==a[s].name&&(i[a[s].name]=a[s].value,i[p(a[s].name)]=a[s].value);for(s=c.length;s--;){var l=v(c[s],null,o),u=c[s].slot;u?i[u]=t(m,{name:u},l):r[s]=l}var d=!(!o||!o.shadow),h=n?t(m,{useFragment:!d},r):r;return!d&&n&&(e.innerHTML=\"\"),t(n||e.nodeName.toLowerCase(),i,h)}export{l as default};\n//# sourceMappingURL=preact-custom-element.esm.js.map\n","import { h, cloneElement, render, hydrate, Fragment } from 'preact';\n\n/**\n * @typedef {import('./index.d.ts').PreactCustomElement} PreactCustomElement\n */\n\n/**\n * @type {import('./index.d.ts').default}\n */\nexport default function register(Component, tagName, propNames, options) {\n\tfunction PreactElement() {\n\t\tconst inst = /** @type {PreactCustomElement} */ (\n\t\t\tReflect.construct(HTMLElement, [], PreactElement)\n\t\t);\n\t\tinst._vdomComponent = Component;\n\t\tinst._root =\n\t\t\toptions && options.shadow\n\t\t\t\t? inst.attachShadow({ mode: options.mode || 'open' })\n\t\t\t\t: inst;\n\n\t\tif (options && options.adoptedStyleSheets) {\n\t\t\tinst._root.adoptedStyleSheets = options.adoptedStyleSheets;\n\t\t}\n\n\t\treturn inst;\n\t}\n\tPreactElement.prototype = Object.create(HTMLElement.prototype);\n\tPreactElement.prototype.constructor = PreactElement;\n\tPreactElement.prototype.connectedCallback = function () {\n\t\tconnectedCallback.call(this, options);\n\t};\n\tPreactElement.prototype.attributeChangedCallback = attributeChangedCallback;\n\tPreactElement.prototype.disconnectedCallback = disconnectedCallback;\n\n\t/**\n\t * @type {string[]}\n\t */\n\tpropNames =\n\t\tpropNames ||\n\t\tComponent.observedAttributes ||\n\t\tObject.keys(Component.propTypes || {});\n\tPreactElement.observedAttributes = propNames;\n\n\tif (Component.formAssociated) {\n\t\tPreactElement.formAssociated = true;\n\t}\n\n\t// Keep DOM properties and Preact props in sync\n\tpropNames.forEach((name) => {\n\t\tObject.defineProperty(PreactElement.prototype, name, {\n\t\t\tget() {\n\t\t\t\treturn this._vdom\n\t\t\t\t\t? this._vdom.props[name]\n\t\t\t\t\t: this._props[name];\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (this._vdom) {\n\t\t\t\t\tthis.attributeChangedCallback(name, null, v);\n\t\t\t\t} else {\n\t\t\t\t\tif (!this._props) this._props = {};\n\t\t\t\t\tthis._props[name] = v;\n\t\t\t\t}\n\n\t\t\t\t// Reflect property changes to attributes if the value is a primitive\n\t\t\t\tconst type = typeof v;\n\t\t\t\tif (\n\t\t\t\t\tv == null ||\n\t\t\t\t\ttype === 'string' ||\n\t\t\t\t\ttype === 'boolean' ||\n\t\t\t\t\ttype === 'number'\n\t\t\t\t) {\n\t\t\t\t\tthis.setAttribute(name, v);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t});\n\n\tcustomElements.define(\n\t\ttagName || Component.tagName || Component.displayName || Component.name,\n\t\tPreactElement\n\t);\n\n\treturn PreactElement;\n}\n\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\t// eslint-disable-next-line no-unused-vars\n\tconst { context, children, ...rest } = props;\n\treturn cloneElement(children, rest);\n}\n\n/**\n * @this {PreactCustomElement}\n */\nfunction connectedCallback(options) {\n\t// Obtain a reference to the previous context by pinging the nearest\n\t// higher up node that was rendered with Preact. If one Preact component\n\t// higher up receives our ping, it will set the `detail` property of\n\t// our custom event. This works because events are dispatched\n\t// synchronously.\n\tconst event = new CustomEvent('_preact', {\n\t\tdetail: {},\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t});\n\tthis.dispatchEvent(event);\n\tconst context = event.detail.context;\n\n\tthis._vdom = h(\n\t\tContextProvider,\n\t\t{ ...this._props, context },\n\t\ttoVdom(this, this._vdomComponent, options)\n\t);\n\t(this.hasAttribute('hydrate') ? hydrate : render)(this._vdom, this._root);\n}\n\n/**\n * Camel-cases a string\n * @param {string} str The string to transform to camelCase\n * @returns camel case version of the string\n */\nfunction toCamelCase(str) {\n\treturn str.replace(/-(\\w)/g, (_, c) => (c ? c.toUpperCase() : ''));\n}\n\n/**\n * Changed whenver an attribute of the HTML element changed\n * @this {PreactCustomElement}\n * @param {string} name The attribute name\n * @param {unknown} oldValue The old value or undefined\n * @param {unknown} newValue The new value\n */\nfunction attributeChangedCallback(name, oldValue, newValue) {\n\tif (!this._vdom) return;\n\t// Attributes use `null` as an empty value whereas `undefined` is more\n\t// common in pure JS components, especially with default parameters.\n\t// When calling `node.removeAttribute()` we'll receive `null` as the new\n\t// value. See issue #50.\n\tnewValue = newValue == null ? undefined : newValue;\n\tconst props = {};\n\tprops[name] = newValue;\n\tprops[toCamelCase(name)] = newValue;\n\tthis._vdom = cloneElement(this._vdom, props);\n\trender(this._vdom, this._root);\n}\n\n/**\n * @this {PreactCustomElement}\n */\nfunction disconnectedCallback() {\n\trender((this._vdom = null), this._root);\n}\n\n/**\n * Pass an event listener to each `<slot>` that \"forwards\" the current\n * context value to the rendered child. The child will trigger a custom\n * event, where will add the context value to. Because events work\n * synchronously, the child can immediately pull of the value right\n * after having fired the event.\n */\nfunction Slot(props, context) {\n\tconst ref = (r) => {\n\t\tif (!r) {\n\t\t\tthis.ref.removeEventListener('_preact', this._listener);\n\t\t} else {\n\t\t\tthis.ref = r;\n\t\t\tif (!this._listener) {\n\t\t\t\tthis._listener = (event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.detail.context = context;\n\t\t\t\t};\n\t\t\t\tr.addEventListener('_preact', this._listener);\n\t\t\t}\n\t\t}\n\t};\n\tconst { useFragment, ...rest } = props;\n\treturn h(useFragment ? Fragment : 'slot', { ...rest, ref });\n}\n\nfunction toVdom(element, nodeName, options) {\n\tif (element.nodeType === 3) return element.data;\n\tif (element.nodeType !== 1) return null;\n\tlet children = [],\n\t\tprops = {},\n\t\ti = 0,\n\t\ta = element.attributes,\n\t\tcn = element.childNodes;\n\tfor (i = a.length; i--; ) {\n\t\tif (a[i].name !== 'slot') {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t\tprops[toCamelCase(a[i].name)] = a[i].value;\n\t\t}\n\t}\n\n\tfor (i = cn.length; i--; ) {\n\t\tconst vnode = toVdom(cn[i], null, options);\n\t\t// Move slots correctly\n\t\tconst name = cn[i].slot;\n\t\tif (name) {\n\t\t\tprops[name] = h(Slot, { name }, vnode);\n\t\t} else {\n\t\t\tchildren[i] = vnode;\n\t\t}\n\t}\n\n\tconst shadow = !!(options && options.shadow);\n\n\t// Only wrap the topmost node with a slot\n\tconst wrappedChildren = nodeName\n\t\t? h(Slot, { useFragment: !shadow }, children)\n\t\t: children;\n\n\tif (!shadow && nodeName) {\n\t\telement.innerHTML = '';\n\t}\n\treturn h(nodeName || element.nodeName.toLowerCase(), props, wrappedChildren);\n}\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","module.exports = \"501433302716ee6e\";","function contrastColor(inputColor: string): string {\n  // --- Helpers --------------------------------------------------------------\n\n  // Clamp number into [min, max]\n  const clamp = (v: number, min: number, max: number) => Math.min(Math.max(v, min), max);\n\n  // Convert sRGB channel [0..255] to linear light\n  const srgbToLinear = (c255: number): number => {\n    const c = c255 / 255;\n    return c <= 0.04045 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n  };\n\n  // Relative luminance per WCAG (0..1)\n  const relativeLuminance = (r: number, g: number, b: number): number => {\n    const R = srgbToLinear(r);\n    const G = srgbToLinear(g);\n    const B = srgbToLinear(b);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  };\n\n  // Contrast ratio between two luminances (L1 lighter, L2 darker)\n  const contrastRatio = (L1: number, L2: number): number => (L1 + 0.05) / (L2 + 0.05);\n\n  // Parse #RGB, #RGBA, #RRGGBB, #RRGGBBAA\n  const parseHex = (hexInput: string): { r: number; g: number; b: number } => {\n    const hex = hexInput.slice(1).trim();\n    const len = hex.length;\n\n    if (len !== 3 && len !== 4 && len !== 6 && len !== 8) {\n      throw new Error(\"Invalid HEX length. Use #RGB, #RGBA, #RRGGBB, or #RRGGBBAA.\");\n    }\n\n    const toByte = (h: string): number => parseInt(h, 16);\n\n    let r: number, g: number, b: number;\n    if (len === 3 || len === 4) {\n      // Expand short form (#abc[#d] -> #aabbcc[dd])\n      r = toByte(hex[0] + hex[0]);\n      g = toByte(hex[1] + hex[1]);\n      b = toByte(hex[2] + hex[2]);\n      // alpha (hex[3]) is ignored for contrast background\n    } else {\n      r = toByte(hex.slice(0, 2));\n      g = toByte(hex.slice(2, 4));\n      b = toByte(hex.slice(4, 6));\n      // alpha (hex[6..8]) is ignored\n    }\n\n    if ([r, g, b].some((v) => Number.isNaN(v))) {\n      throw new Error(\"Invalid HEX digits.\");\n    }\n    return { r, g, b };\n  };\n\n  // Parse rgb()/rgba(); supports integers 0..255 or percentages 0%..100%\n  const parseRgbFunc = (rgbInput: string): { r: number; g: number; b: number } => {\n    // Normalize and extract content inside parentheses\n    const open = rgbInput.indexOf(\"(\");\n    const close = rgbInput.lastIndexOf(\")\");\n    if (open === -1 || close === -1 || close <= open) {\n      throw new Error(\"Malformed rgb()/rgba() string.\");\n    }\n    const inner = rgbInput.slice(open + 1, close).trim();\n\n    // Split by commas, tolerate extra spaces\n    const parts = inner.split(/\\s*,\\s*/);\n    if (parts.length < 3) {\n      throw new Error(\"rgb()/rgba() must have at least 3 components.\");\n    }\n\n    const parseChannel = (s: string): number => {\n      // Percentage form e.g., \"80%\"\n      const percentMatch = s.match(/^(-?\\d+(?:\\.\\d+)?)%$/);\n      if (percentMatch) {\n        const p = parseFloat(percentMatch[1]);\n        return clamp(Math.round((p / 100) * 255), 0, 255);\n      }\n      // Integer 0..255 (also accepts floats and rounds)\n      const n = Number(s);\n      if (Number.isNaN(n)) throw new Error(\"Invalid RGB channel value.\");\n      return clamp(Math.round(n), 0, 255);\n    };\n\n    const r = parseChannel(parts[0]);\n    const g = parseChannel(parts[1]);\n    const b = parseChannel(parts[2]);\n\n    // Alpha (parts[3]) is intentionally ignored for background color\n    return { r, g, b };\n  };\n\n  // --- Main -----------------------------------------------------------------\n\n  let r: number, g: number, b: number;\n  const color = inputColor.trim();\n\n  if (color.startsWith(\"#\")) {\n    ({ r, g, b } = parseHex(color));\n  } else if (color.toLowerCase().startsWith(\"rgb\")) {\n    ({ r, g, b } = parseRgbFunc(color));\n  } else {\n    // Keep API behavior: only HEX or rgb()/rgba() are accepted\n    throw new Error(\n      \"Color format not recognized. Use HEX (#RRGGBB, #RGB, with optional alpha) or rgb()/rgba().\"\n    );\n  }\n\n  // Compute relative luminance\n  const Lbg = relativeLuminance(r, g, b);\n\n  // Compare contrast vs black (#000) and white (#fff); pick better\n  const Lwhite = 1.0; // luminance of #fff\n  const Lblack = 0.0; // luminance of #000\n  const contrastWithWhite = contrastRatio(Math.max(Lwhite, Lbg), Math.min(Lwhite, Lbg));\n  const contrastWithBlack = contrastRatio(Math.max(Lbg, Lblack), Math.min(Lbg, Lblack));\n\n  // Return \"black\" or \"white\" to keep original API\n  return contrastWithBlack >= contrastWithWhite ? \"black\" : \"white\";\n}\n\nexport default contrastColor;\n","// darkenColor.ts\nfunction darkenColor(color: string, percent: number): string {\n  // --- Helpers --------------------------------------------------------------\n  const clamp = (v: number, min: number, max: number) => Math.min(Math.max(v, min), max);\n  const toByte = (n: number) => clamp(Math.floor(n), 0, 255); // <= floor for stable expectations\n\n  // Clamp percent to [-1, 1]; negative => darken, positive => lighten\n  const p = Math.max(-1, Math.min(1, percent));\n\n  type RGB = { r: number; g: number; b: number; a: number | null };\n\n  // Parse #RGB/#RGBA/#RRGGBB/#RRGGBBAA\n  const parseHex = (hexInput: string): RGB => {\n    const hex = hexInput.slice(1).trim();\n    const len = hex.length;\n    if (![3, 4, 6, 8].includes(len)) {\n      throw new Error(\"Invalid HEX length. Use #RGB, #RGBA, #RRGGBB, or #RRGGBBAA.\");\n    }\n    const expand = (c: string) => c + c;\n\n    let r: number,\n      g: number,\n      b: number,\n      a: number | null = null;\n\n    if (len === 3 || len === 4) {\n      r = parseInt(expand(hex[0]), 16);\n      g = parseInt(expand(hex[1]), 16);\n      b = parseInt(expand(hex[2]), 16);\n      if (len === 4) a = parseInt(expand(hex[3]), 16) / 255;\n    } else {\n      r = parseInt(hex.slice(0, 2), 16);\n      g = parseInt(hex.slice(2, 4), 16);\n      b = parseInt(hex.slice(4, 6), 16);\n      if (len === 8) a = parseInt(hex.slice(6, 8), 16) / 255;\n    }\n\n    if ([r, g, b].some(Number.isNaN)) throw new Error(\"Invalid HEX digits.\");\n    return { r, g, b, a };\n  };\n\n  // Parse rgb()/rgba(); supports integers and percentages\n  const parseRgb = (rgbInput: string): RGB => {\n    const open = rgbInput.indexOf(\"(\");\n    const close = rgbInput.lastIndexOf(\")\");\n    if (open === -1 || close === -1 || close <= open) throw new Error(\"Malformed rgb()/rgba().\");\n    const inner = rgbInput.slice(open + 1, close).trim();\n\n    const parts = inner.split(/\\s*,\\s*/);\n    if (parts.length < 3) throw new Error(\"rgb()/rgba() must have at least 3 components.\");\n\n    const parseChan = (s: string) => {\n      const m = s.match(/^(-?\\d+(?:\\.\\d+)?)%$/);\n      if (m) return toByte((parseFloat(m[1]) / 100) * 255);\n      const n = Number(s);\n      if (Number.isNaN(n)) throw new Error(\"Invalid RGB channel value.\");\n      return toByte(n);\n    };\n\n    const r = parseChan(parts[0]);\n    const g = parseChan(parts[1]);\n    const b = parseChan(parts[2]);\n\n    let a: number | null = null;\n    if (parts[3] !== undefined) {\n      const an = Number(parts[3]);\n      if (Number.isNaN(an)) throw new Error(\"Invalid alpha channel.\");\n      a = clamp(an, 0, 1);\n    }\n    return { r, g, b, a };\n  };\n\n  // --- Parse input ----------------------------------------------------------\n  const src = color.trim();\n  const hasHex = src.startsWith(\"#\");\n  const isRGBA = src.toLowerCase().startsWith(\"rgba\");\n  const isRGB = src.toLowerCase().startsWith(\"rgb\");\n\n  let r: number, g: number, b: number, a: number | null;\n\n  if (hasHex) {\n    ({ r, g, b, a } = parseHex(src));\n  } else if (isRGB) {\n    ({ r, g, b, a } = parseRgb(src));\n    if (a === null) a = isRGBA ? 1 : null; // keep family: rgba stays rgba, rgb stays rgb\n  } else {\n    throw new Error(\"Invalid color format. Use HEX (#...[,AA]) or rgb()/rgba().\");\n  }\n\n  // --- Apply lighten/darken -------------------------------------------------\n  const target = p < 0 ? 0 : 255;\n  const pp = Math.abs(p);\n\n  r = toByte(r + (target - r) * pp);\n  g = toByte(g + (target - g) * pp);\n  b = toByte(b + (target - b) * pp);\n\n  // --- Serialize back in the original family --------------------------------\n  if (hasHex) {\n    const hex = (v: number) => v.toString(16).padStart(2, \"0\");\n    const base = `#${hex(r)}${hex(g)}${hex(b)}`;\n    return a !== null ? `${base}${hex(Math.floor((a ?? 1) * 255))}` : base; // keep alpha byte; floor for stability\n  }\n\n  if (isRGBA) {\n    const outA = a ?? 1;\n    return `rgba(${r}, ${g}, ${b}, ${outA})`;\n  }\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\nexport default darkenColor;\n","allowFonts:\n  - \"Sono\"\n  - \"Roboto Mono\"\n  - \"Sometype Mono\"\n  - \"Inconsolata\"\n  - \"Source Code Pro\"\n  - \"IBM Plex Mono\"\n  - \"Space Mono\"\n  - \"Ubuntu Mono\"\n  - \"Nanum Gothic Coding\"\n  - \"Courier Prime\"\n  - \"JetBrains Mono\"\n  - \"Fira Mono\"\n  - \"Cousine\"\n  - \"Anonymous Pro\"\n  - \"Noto Sans Mono\"\n  - \"Fira Code\"\n  - \"Overpass Mono\"\n  - \"B612 Mono\"\n  - \"Victor Mono\"\n  - \"Chivo Mono\"\n  - \"Azeret Mono\"\n  - \"Martian Mono\"\n  - \"Red Hat Mono\"\n  - \"Spline Sans Mono\"\n","// isDark.ts\n\n/**\n * Detect if user prefers dark color scheme.\n * Returns `false` if matchMedia is not available (e.g. server-side).\n */\nfunction isDark(): boolean {\n  if (typeof window === \"undefined\" || typeof window.matchMedia !== \"function\") {\n    return false;\n  }\n  return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\n\nexport default isDark;\n"],"names":["slice","options","vnodeId","isValidElement","rerenderQueue","prevDebounce","defer","depthSort","CAPTURE_REGEX","eventClock","eventProxy","eventProxyCapture","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","isArray","Array","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","length","call","defaultProps","undefined","createVNode","original","vnode","__k","__","__b","__e","__c","constructor","__v","__i","__u","createRef","current","Fragment","BaseComponent","context","this","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","c","__d","push","process","__r","debounceRendering","component","newVNode","oldVNode","oldDom","commitQueue","refQueue","l","sort","shift","__P","diff","__n","namespaceURI","commitRoot","diffChildren","parentDom","renderResult","newParentVNode","oldParentVNode","globalContext","namespace","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","result","shouldPlace","oldChildren","newChildrenLength","constructNewChildrenArray","applyRef","insert","nextSibling","skewedIndex","matchingIndex","oldChildrenLength","remainingOldChildren","skew","String","findMatchingIndex","unmount","parentVNode","insertBefore","nodeType","toChildArray","out","some","x","y","matched","setStyle","style","value","setProperty","test","dom","name","oldValue","useCapture","lowerCaseName","o","cssText","replace","toLowerCase","_attached","addEventListener","removeEventListener","e","removeAttribute","setAttribute","createEventProxy","eventHandler","_dispatched","event","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","isClassComponent","provider","componentContext","renderHook","count","newType","outer","prototype","render","contextType","__E","doRender","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","cloneNode","then","MODE_HYDRATE","indexOf","markAsForce","diffElementNodes","diffed","forEach","root","cb","map","newHtml","oldHtml","newChildren","inputValue","checked","localName","document","createTextNode","createElementNS","is","__m","data","childNodes","attributes","__html","innerHTML","content","hasRefUnmount","skipRemove","r","componentWillUnmount","replaceNode","documentElement","firstChild","hydrate","cloneElement","createContext","defaultValue","Context","subs","ctx","Set","_props","add","old","delete","Provider","__l","Consumer","contextValue","error","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Promise","bind","resolve","setTimeout","a","b","register","Component","tagName","propNames","PreactElement","inst","Reflect","construct","HTMLElement","_vdomComponent","_root","shadow","attachShadow","mode","adoptedStyleSheets","Object","create","connectedCallback","attributeChangedCallback","disconnectedCallback","observedAttributes","keys","propTypes","formAssociated","defineProperty","get","_vdom","set","v","customElements","define","displayName","ContextProvider","rest","_objectWithoutPropertiesLoose","_excluded","CustomEvent","detail","bubbles","cancelable","dispatchEvent","h","_extends","toVdom","hasAttribute","toCamelCase","str","_","toUpperCase","newValue","Slot","_this","useFragment","_excluded2","_listener","stopPropagation","element","nodeName","cn","slot","wrappedChildren"],"version":3,"file":"SimpleDigitalClockWidget.js.map"}